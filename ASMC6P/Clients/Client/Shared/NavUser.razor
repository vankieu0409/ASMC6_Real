<MudDrawerHeader>
    <MudText Typo="Typo.h6">Settings</MudText>
</MudDrawerHeader>
<MudNavMenu>
    <MudNavLink Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.AccountBox">Profile</MudNavLink>
    <AuthorizeView Roles="Adminnitrator">

    </AuthorizeView>
    @if (@BadgeContent != null)
    {
        <MudNavLink Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.ShoppingCart">
            <MudBadge Origin="Origin.CenterRight" Content="@BadgeContent" Color="Color.Error" Overlap="false" Dot="false" Bordered="true">Giỏ hàng    </MudBadge>
        </MudNavLink>
    }
    else
    {
        <MudNavLink Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.ShoppingCart">Giỏ hàng</MudNavLink>
    }
    <MudNavLink Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.History">Order History</MudNavLink>
    <MudNavLink Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Logout" OnClick="BeginSignOut">Đăng xuất</MudNavLink>
</MudNavMenu>

@code {
    public int? BadgeContent { get; set; } = 5;
    public void AddBadgeContentValue()
    {
        if (BadgeContent == null)
        {
            BadgeContent = 1;
        }
        else
        {
            BadgeContent += 25;
        }
    }
    private async Task BeginSignOut(MouseEventArgs e)
    {
        var checkLogout = await _authentication.LogoutService();
        if (checkLogout) _navigationManager.NavigateTo("/", true);
        else await _jsRuntime.InvokeVoidAsync("alert", "Đăng không xuất thành công!");

    }
}
